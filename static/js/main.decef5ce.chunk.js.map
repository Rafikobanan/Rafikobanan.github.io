{"version":3,"sources":["hoc/Layout/Layout.js","context/context.js","hoc/DropZone/utils.js","hoc/DropZone/DropZone.js","reducer/types.js","components/UI/Input/RenderInput.js","components/UI/Input/Input.js","components/Loading/RenderLoading.js","utils/notify.js","components/Loading/Loading.js","components/Icon/Icon.js","components/Loader/Loader.js","components/Image/ImageLoad.js","components/Image/RenderImage.js","components/Image/Image.js","components/Gallery/GalleryImage.js","components/Gallery/RenderGallery.js","components/Gallery/GalleryEmpty.js","hooks/event.hook.js","components/Gallery/utils.js","components/Gallery/Gallery.js","components/Magnify/Magnify.js","utils/id.js","reducer/reducer.js","App.js","index.js"],"names":["Layout","children","className","Context","React","createContext","preventDefaults","e","preventDefault","stopPropagation","loadFile","file","onloadend","onerror","Promise","res","rej","reader","FileReader","readAsDataURL","result","DropZone","dispatch","useContext","useEffect","handle","dt","dataTransfer","files","Array","from","forEach","a","handleDrop","type","payload","url","events","eventName","document","body","addEventListener","removeEventListener","RenderInput","onChange","onFocus","onBlur","onKeyDown","isPlaceholderActive","placeholder","value","Input","props","useState","setIsPlaceholderActive","RenderLoading","onChangeTextInput","onChangeFileInput","htmlFor","id","notify","text","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Loading","setValue","key","toUpperCase","target","trim","input","readAsText","JSON","parse","galleryImages","data","i","length","imageObj","push","changeFileHandler","Icon","onClick","style","icon","xlinkHref","Loader","ImageLoad","onLoad","src","alt","RenderImage","cursor","backgroundImage","Image","isLoad","setIsLoad","GalleryImage","widthInPercent","onRemove","flex","RenderGallery","images","TransitionGroup","GalleryEmpty","useEventListener","handler","element","window","savedHandler","useRef","current","eventListener","event","k","Gallery","state","coefficient","setCoefficient","resizeHandler","useCallback","c","width","calculateCoefficient","clientWidth","map","item","index","height","Infinity","CSSTransition","classNames","timeout","clientHeight","loadHandler","removeHandler","Magnify","Math","random","toString","substr","action","arr","filter","bigImageUrl","App","useReducer","reducer","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.decef5ce.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Layout.scss';\r\n\r\nfunction Layout({children}) {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\n\r\nexport const Context = React.createContext();","export const preventDefaults = (e) => {\r\n\te.preventDefault();\r\n\te.stopPropagation();\r\n};\r\n\r\nexport const handleDrop = (e, onloadend = null, onerror = null) => {\r\n\tconst dt = e.dataTransfer;\r\n\tconst files = Array.from(dt.files);\r\n\r\n\tfiles.forEach(async (file) => await loadFile(file, onloadend, onerror));\r\n};\r\n\r\nconst loadFile = (file, onloadend, onerror) => {\r\n\treturn new Promise((res, rej) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\r\n\t\treader.onloadend = function() {\r\n\t\t\tonloadend && onloadend(reader.result);\r\n\t\t\tres();\r\n\t\t};\r\n\r\n\t\treader.onerror = function(e) {\r\n\t\t\tonerror && onerror(e);\r\n\t\t\trej(e);\r\n\t\t}\r\n\t});\r\n};","import React, { useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../context/context\";\r\nimport { ADD_PICTURE } from \"../../reducer/types\";\r\nimport { preventDefaults, handleDrop } from \"./utils\";\r\n\r\nfunction DropZone({children}) {\r\n\tconst {dispatch} = useContext(Context);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handle = (e) => {\r\n\t\t\thandleDrop(e, (result) => {\r\n\t\t\t\tdispatch({type: ADD_PICTURE, payload: {url: result}});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst events = ['dragenter', 'dragover', 'dragleave', 'drop'];\r\n\r\n\t\tevents.forEach(eventName => {\r\n\t\t\tdocument.body.addEventListener(eventName, preventDefaults);\r\n\t\t\tdocument.body.addEventListener('drop', handle);\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tevents.forEach(eventName => {\r\n\t\t\t\tdocument.body.removeEventListener(eventName, preventDefaults);\r\n\t\t\t\tdocument.body.removeEventListener('drop', handle);\r\n\t\t\t});\r\n\t\t}\r\n\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn <>{children}</>;\r\n}\r\n\r\nexport default DropZone;","export const ADD_SOME_PICTURES = 'ADD_SOME_PICTURES';\r\nexport const REMOVE_IMAGE = 'REMOVE_IMAGE';\r\nexport const ADD_PICTURE = 'ADD_PICTURE';\r\nexport const ADD_PICTURE_SIZE = 'ADD_PICTURE_SIZE';\r\nexport const REMOVE_BIG_IMAGE_URL = 'REMOVE_BIG_IMAGE_URL';\r\nexport const SET_BIG_IMAGE_URL = 'SET_BIG_IMAGE_URL';","import React from 'react';\r\nimport './Input.scss';\r\n\r\nconst RenderInput = ({\r\n\tclassName = '',\r\n\tonChange = null,\r\n\tonFocus = null,\r\n\tonBlur = null,\r\n\tonKeyDown = null,\r\n\tisPlaceholderActive = false,\r\n\tplaceholder = '',\r\n\tvalue = ''\r\n}) => (\r\n\t<div className=\"input-field\">\r\n\t\t<input\r\n\t\t\tclassName={`input ${className}`}\r\n\t\t\tonChange={onChange}\r\n\t\t\tonKeyDown={onKeyDown}\r\n\t\t\tonFocus={onFocus}\r\n\t\t\tonBlur={onBlur}\r\n\t\t\tvalue={value}\r\n\t\t\ttype=\"text\"\r\n\t\t/>\r\n\t\t<span\r\n\t\t\tclassName={`input-field__placeholder ${isPlaceholderActive ? 'input-field__placeholder_active' : ''}`}\r\n\t\t>\r\n\t\t\t{placeholder}\r\n\t\t</span>\r\n\t</div>\r\n);\r\n\r\nexport default RenderInput;","import React, { useState } from 'react';\r\nimport RenderInput from './RenderInput';\r\n\r\nfunction Input(props) {\r\n\tconst [isPlaceholderActive, setIsPlaceholderActive] = useState(false);\r\n\r\n\tconst focusHandler = () => {\r\n\t\tsetIsPlaceholderActive(true);\r\n\t};\r\n\r\n\tconst blurHandler = () => {\r\n\t\tif (props.value) return;\r\n\t\tsetIsPlaceholderActive(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<RenderInput \r\n\t\t\tclassName={props.className}\r\n\t\t\tonChange={props.onChange}\r\n\t\t\tplaceholder={props.placeholder}\r\n\t\t\tonKeyDown={props.onKeyDown}\r\n\t\t\tvalue={props.value}\r\n\t\t\tisPlaceholderActive={isPlaceholderActive}\r\n\t\t\tonFocus={focusHandler}\r\n\t\t\tonBlur={blurHandler}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport Input from '../UI/Input/Input';\r\nimport './Loading.scss';\r\n\r\nconst RenderLoading = ({\r\n\tonKeyDown = null,\r\n\tonChangeTextInput = null,\r\n\tonChangeFileInput = null,\r\n\tvalue = '',\r\n}) => (\r\n\t<div className=\"loading\">\r\n\t\t<Input \r\n\t\t\tclassName=\"loading__input\"\r\n\t\t\tplaceholder=\"Вставьте ссылку\"\r\n\t\t\tonKeyDown={onKeyDown}\r\n\t\t\tonChange={onChangeTextInput}\r\n\t\t\tvalue={value}\r\n\t\t/>\r\n\t\t<label htmlFor=\"upload\" className=\"loading__label\">Загрузить</label>\r\n\t\t<input\r\n\t\t\ttype=\"file\"\r\n\t\t\tclassName=\"loading__upload\"\r\n\t\t\tid=\"upload\"\r\n\t\t\tonChange={onChangeFileInput}\r\n\t\t/>\r\n\t</div>\r\n);\r\n\r\nexport default RenderLoading;","import { toast } from 'react-toastify';\r\n\r\nexport const notify = (text) => {\r\n\ttoast.error(text, {\r\n\t\tposition: 'top-right',\r\n\t\tautoClose: 3000,\r\n\t\thideProgressBar: false,\r\n\t\tcloseOnClick: true,\r\n\t\tpauseOnHover: true,\r\n\t\tdraggable: true,\r\n\t\tprogress: undefined,\r\n\t});\r\n};","import React, { useContext, useState } from 'react';\r\nimport RenderLoading from './RenderLoading';\r\nimport { Context } from '../../context/context';\r\nimport { notify } from '../../utils/notify';\r\nimport { ADD_SOME_PICTURES, ADD_PICTURE } from '../../reducer/types';\r\n\r\nfunction Loading() {\r\n\tconst {dispatch} = useContext(Context);\r\n\tconst [value, setValue] = useState('');\r\n\r\n\tconst changeFileHandler = (input) => {\r\n\t\tlet file = input.files[0];\r\n\r\n\t\tif (!file) return;\r\n\r\n\t\tif (file.type !== 'application/json') {\r\n\t\t\tnotify('Требуемый формат файла - JSON!');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst reader = new FileReader();\r\n\r\n\t\treader.readAsText(file);\r\n\r\n\t\treader.addEventListener('load', () => {\r\n\t\t\tconst result = JSON.parse(reader.result);\r\n\r\n\t\t\tif (!result.galleryImages) {\r\n\t\t\t\tnotify('Не существует массива galleryImages!');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst data = [];\r\n\t\t\tfor (let i = 0; i < result.galleryImages.length; i++) {\r\n\t\t\t\tlet imageObj = result.galleryImages[i];\r\n\r\n\t\t\t\tif (typeof imageObj === 'string') imageObj = {url: result.galleryImages[i]};\r\n\r\n\t\t\t\tdata.push(imageObj);\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({type: ADD_SOME_PICTURES, payload: data});\r\n\t\t});\r\n\r\n\t\treader.addEventListener('error', () => {\r\n\t\t\tnotify(reader.error);\r\n\t\t});\r\n\t};\r\n\r\n\tconst keyDownHandler = (e) => {\r\n\t\tif (e.key.toUpperCase() === 'ENTER') {\r\n\t\t\tif (!value) {\r\n\t\t\t\tnotify('Вставьте ссылку');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetValue('');\r\n\t\t\tdispatch({type: ADD_PICTURE, payload: {url: value}});\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeInputHandler = (e) => {\r\n\t\tsetValue(e.target.value.trim());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<RenderLoading \r\n\t\t\tonKeyDown={keyDownHandler}\r\n\t\t\tonChangeTextInput={changeInputHandler}\r\n\t\t\tonChangeFileInput={(e) => changeFileHandler(e.target)}\r\n\t\t\tvalue={value}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\n\r\nfunction Icon({onClick = null, className = null, style = null, icon}) {\r\n\treturn (\r\n\t\t<div onClick={onClick}>\r\n\t\t\t<svg className={className} style={style}>\r\n\t\t\t\t<use xlinkHref={icon}></use>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Icon;","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nfunction Loader({children = null, className = ''}) {\r\n\treturn (\r\n\t\t<div className={`loader ${className}`}>\r\n\t\t\t<div className=\"lds-dual-ring\"></div>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst ImageLoad = ({\r\n\tclassName = '',\r\n\tchildren = null,\r\n\tonLoad = null,\r\n\tsrc = '',\r\n}) => (\r\n\t<>\r\n\t\t<Loader className={className} children={children}/>\r\n\t\t<img onLoad={onLoad} className=\"image-load\" src={src} alt=\"\"/>\r\n\t</>\r\n);\r\n\r\nexport default ImageLoad;","import React from 'react';\r\nimport './Image.scss';\r\n\r\nconst RenderImage = ({\r\n\tclassName = '',\r\n\tonClick = null,\r\n\tchildren = null,\r\n\tstyle = {},\r\n\tsrc = ''\r\n}) => (\r\n\t<div\r\n\t\tonClick={onClick}\r\n\t\tclassName={`image-container ${className}`}\r\n\t\tstyle={{cursor: `${onClick ? 'pointer' : ''}`, ...style}}\r\n\t>\r\n\t\t<div\r\n\t\t\tclassName=\"image\"\r\n\t\t\tstyle={{backgroundImage: `url(${src})`}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default RenderImage;","import React, { useState } from 'react';\r\nimport ImageLoad from './ImageLoad';\r\nimport RenderImage from './RenderImage';\r\n\r\nfunction Image(props) {\r\n\tconst [isLoad, setIsLoad] = useState(true);\r\n\r\n\tconst loadHandler = (e) => {\r\n\t\tsetIsLoad(false);\r\n\t\tif (props.onLoad) props.onLoad(e);\r\n\t};\r\n\r\n\treturn isLoad ? \r\n\t\t<ImageLoad\r\n\t\t\tclassName={props.className}\r\n\t\t\tchildren={props.children}\r\n\t\t\tonLoad={loadHandler}\r\n\t\t\tsrc={props.src}\r\n\t\t/> :\r\n\t\t<RenderImage\r\n\t\t\tclassName={props.className}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tchildren={props.children}\r\n\t\t\tstyle={props.style}\r\n\t\t\tsrc={props.src}\r\n\t\t/>\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport Icon from '../Icon/Icon';\r\nimport Image from '../Image/Image';\r\n\r\nconst GalleryImage = ({\r\n\twidthInPercent = 0,\r\n\turl,\r\n\tonLoad = null,\r\n\tonClick = null,\r\n\tonRemove = null,\r\n}) => {\r\n\treturn (\r\n\t\t<Image\r\n\t\t\tstyle={{flex: `1 1 ${widthInPercent}%`}}\r\n\t\t\tclassName=\"gallery__image-container\"\r\n\t\t\tsrc={url}\r\n\t\t\tonLoad={onLoad} \r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<div className=\"image-hover\">\r\n\t\t\t\t<Icon\r\n\t\t\t\t\tonClick={onRemove}\r\n\t\t\t\t\tclassName=\"image-hover__icon image-hover__close\"\r\n\t\t\t\t\ticon=\"#close\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Image>\r\n\t)\r\n}\r\n\r\nexport default GalleryImage;","import React from 'react';\r\nimport './Gallery.scss';\r\nimport { TransitionGroup } from 'react-transition-group';\r\n\r\nconst RenderGallery = ({images}) => (\r\n\t<TransitionGroup className=\"gallery\">\r\n\t\t{images}\r\n\t</TransitionGroup>\r\n);\r\n\r\nexport default RenderGallery;","import React from 'react';\r\n\r\nconst GalleryEmpty = () => (\r\n\t<div className=\"empty\"><span>Здесь будут ваши картинки</span></div>\r\n);\r\n\r\nexport default GalleryEmpty;","import {useRef, useEffect} from 'react';\r\n\r\nfunction useEventListener(eventName, handler, element = window) {\r\n  const savedHandler = useRef();\r\n\r\n  useEffect(() => {\r\n    savedHandler.current = handler;\r\n  }, [handler]);\r\n\r\n  useEffect(\r\n    () => {\r\n      const isSupported = element && element.addEventListener;\r\n      if (!isSupported) return;\r\n\r\n      const eventListener = (event) => savedHandler.current(event);\r\n\r\n      element.addEventListener(eventName, eventListener);\r\n\r\n      return () => {\r\n        element.removeEventListener(eventName, eventListener);\r\n      };\r\n    },\r\n    [eventName, element],\r\n  );\r\n}\r\n\r\nexport default useEventListener;","export const k = {\r\n\tbig: 1,\r\n\taboveMedium: 1.2,\r\n\tmedium: 1.4,\r\n\tbelowMedium: 1.6,\r\n\tsmall: 1.8,\r\n};\r\n\r\nexport const calculateCoefficient = (width) => {\r\n\tif (width >= 860) {\r\n\t\treturn k.big;\r\n\t}\r\n\r\n\tif (width < 860 && width >= 705) {\r\n\t\treturn k.aboveMedium;\r\n\t}\r\n\r\n\tif (width < 705 && width >= 550) {\r\n\t\treturn k.medium;\r\n\t}\r\n\r\n\tif (width < 550 && width >= 435) {\r\n\t\treturn k.belowMedium;\r\n\t}\r\n\r\n\tif (width < 435) {\r\n\t\treturn k.small;\r\n\t}\r\n\r\n\treturn null;\r\n};","import React, { useContext, useState, useEffect, useCallback } from 'react';\r\nimport GalleryImage from './GalleryImage';\r\nimport RenderGallery from './RenderGallery';\r\nimport GalleryEmpty from './GalleryEmpty';\r\nimport useEventListener from '../../hooks/event.hook';\r\nimport { Context } from '../../context/context';\r\nimport { REMOVE_IMAGE, ADD_PICTURE_SIZE, SET_BIG_IMAGE_URL } from '../../reducer/types';\r\nimport {k, calculateCoefficient} from './utils';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nfunction Gallery() {\r\n\tconst {state, dispatch} = useContext(Context);\r\n\tconst [coefficient, setCoefficient] = useState(k.big);\r\n\r\n\tconst resizeHandler = useCallback(() => {\r\n\t\tconst width = document.body.clientWidth;\r\n\t\tconst c = calculateCoefficient(width);\r\n\t\tif (c !== coefficient) setCoefficient(c);\r\n\t}, [coefficient]);\r\n\r\n\tconst removeHandler = (e, id) => {\r\n\t\te.stopPropagation();\r\n\t\tdispatch({type: REMOVE_IMAGE, payload: id});\r\n\t};\r\n\r\n\tconst loadHandler = (e, index) => {\r\n\t\tconst images = state.images;\r\n\t\tif (images[index].width === null || images[index].height === null) {\r\n\t\t\tdispatch({type: ADD_PICTURE_SIZE, payload: {\r\n\t\t\t\tindex: index,\r\n\t\t\t\twidth: e.target.clientWidth,\r\n\t\t\t\theight: e.target.clientHeight\r\n\t\t\t}});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tresizeHandler();\r\n\t}, [resizeHandler]);\r\n\r\n\tuseEventListener('resize', () => {\r\n\t\tresizeHandler();\r\n\t});\r\n\r\n\tconst images = state.images.map((item, index) => {\r\n\t\tlet widthInPercent = item.width / item.height * 20 * coefficient;\r\n\r\n\t\tif (!widthInPercent || widthInPercent === Infinity) widthInPercent = 0;\r\n\r\n\t\treturn (\r\n\t\t\t<CSSTransition\r\n\t\t\t\tclassNames=\"item\"\r\n\t\t\t\ttimeout={300}\r\n\t\t\t\tkey={item.id}\r\n\t\t\t>\r\n\t\t\t\t<GalleryImage \r\n\t\t\t\t\twidthInPercent={widthInPercent}\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tonLoad={(e) => loadHandler(e, index)}\r\n\t\t\t\t\tonClick={() => dispatch({type: SET_BIG_IMAGE_URL, payload: item.url})}\r\n\t\t\t\t\tonRemove={(e) => removeHandler(e, item.id)}\r\n\t\t\t\t/>\r\n\t\t\t</CSSTransition>\r\n\t\t);\r\n\t});\r\n\r\n\treturn images.length ? \r\n\t\t<RenderGallery images={images}/> : \r\n\t\t<GalleryEmpty />;\r\n}\r\n\r\nexport default Gallery;","import React from 'react';\r\nimport './Magnify.scss';\r\n\r\nfunction Magnify({src, onClick}) {\r\n\tif (!src) return '';\r\n\r\n\treturn (\r\n\t\t<div onClick={onClick} className=\"magnify\">\r\n\t\t\t<img src={src} className=\"magnify__image\" alt=\"\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Magnify;","export const id = () => {\r\n\treturn '_' + Math.random().toString(36).substr(2, 9);\r\n};","import { \r\n\tADD_SOME_PICTURES,\r\n\tREMOVE_IMAGE,\r\n\tADD_PICTURE,\r\n\tADD_PICTURE_SIZE,\r\n\tREMOVE_BIG_IMAGE_URL,\r\n\tSET_BIG_IMAGE_URL\r\n} from \"./types\";\r\nimport { id } from \"../utils/id\";\r\n\r\nexport default function(state, action) {\r\n\tlet {images} = state;\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_SOME_PICTURES:\r\n\t\t\tconst arr = action.payload;\r\n\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\tarr[i].id = id();\r\n\t\t\t\tarr[i].width = arr[i].width || null;\r\n\t\t\t\tarr[i].height = arr[i].height || null;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timages: [...state.images, ...arr],\r\n\t\t\t};\r\n\r\n\t\tcase ADD_PICTURE:\r\n\t\t\tconst imageObj = {\r\n\t\t\t\twidth: null,\r\n\t\t\t\theight: null,\r\n\t\t\t\tid: action.payload.id || id(),\r\n\t\t\t\turl: action.payload.url,\r\n\t\t\t};\r\n\r\n\t\t\timages.push(imageObj);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timages: [...images],\r\n\t\t\t};\r\n\r\n\t\tcase REMOVE_IMAGE:\r\n\t\t\timages = state.images.filter((item) => item.id !== action.payload);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timages\r\n\t\t\t};\r\n\r\n\t\tcase SET_BIG_IMAGE_URL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbigImageUrl: action.payload\r\n\t\t\t};\r\n\r\n\t\tcase REMOVE_BIG_IMAGE_URL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbigImageUrl: ''\r\n\t\t\t};\r\n\r\n\t\tcase ADD_PICTURE_SIZE:\r\n\t\t\tconst {index, width, height} = action.payload;\r\n\t\t\timages[index].width = width;\r\n\t\t\timages[index].height = height;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timages\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import React, { useReducer } from 'react';\r\nimport Layout from './hoc/Layout/Layout';\r\nimport DropZone from './hoc/DropZone/DropZone';\r\nimport Loading from './components/Loading/Loading';\r\nimport Gallery from './components/Gallery/Gallery';\r\nimport Magnify from './components/Magnify/Magnify';\r\nimport reducer from './reducer/reducer';\r\nimport { Context } from './context/context';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { REMOVE_BIG_IMAGE_URL } from './reducer/types';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction App() {\r\n\tconst [state, dispatch] = useReducer(reducer, {\r\n\t\tbigImageUrl: '',\r\n\t\timages: [],\r\n\t});\r\n\r\n  return (\r\n\t\t<Context.Provider value={{state, dispatch}}>\r\n\t\t\t<DropZone>\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t\t<Gallery />\r\n\t\t\t\t</Layout>\r\n\t\t\t\t<Magnify\r\n\t\t\t\t\tonClick={() => dispatch({type: REMOVE_BIG_IMAGE_URL})}\r\n\t\t\t\t\tsrc={state.bigImageUrl}\r\n\t\t\t\t/>\r\n\t\t\t\t<ToastContainer />\r\n\t\t\t</DropZone>\r\n\t\t</Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'react-app-polyfill/ie11';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './libs/reset.css';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}